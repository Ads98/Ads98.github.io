<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{{ page.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- ✅ Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- ✅ Font Awesome (for icons) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- ✅ Custom site styles -->
    <link
      rel="stylesheet"
      href="{{ '/assets/css/custom.css' | relative_url }}"
    />

    {{ site.seo }}
  </head>

  <!-- Add fixed-navbar class if using a fixed-top navbar -->
  <body class="fixed-navbar">


    <!-- ✅ Navigation bar -->
    {% include navbar.html %}

    <!-- ✅ Main content area -->
    <div class="container page-content-below-navbar">

      <!-- ✅ Profile image section -->
      {% if page.profile and page.profile.image %}
        <div class="text-center mb-4 pt-5">
          {% if page.profile.image_circular %}
            <img
              src="{{ page.profile.image | relative_url }}"
              alt="Profile picture"
              style="max-width: 200px; border-radius: 50%"
            />
          {% else %}
            <img
              src="{{ page.profile.image | relative_url }}"
              alt="Profile picture"
              style="width: 200px; height: 200px; object-fit: cover; border-radius: 50%"
            />
          {% endif %}

          <div class="mt-2">
            <p class="mb-0 fw-semibold">PhD Health Data Science</p>
            <p class="mb-0 text-muted">University of Oxford</p>
          </div>
        </div>
      {% endif %}

      <!-- ✅ Page content -->
      {{ content }}

    </div> <!-- end .container -->

    <!-- ✅ Extra full-width content like Projects -->
    {% if page.extra_below %}
      {{ page.extra_below }}
    {% endif %}

    <!-- ✅ Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    ></script>


    <script>
      const toggleBtn = document.getElementById('theme-toggle');
      const icon = toggleBtn?.querySelector('i');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
      function applyTheme(theme) {
        if (theme === 'dark') {
          document.body.classList.add('dark-mode');
          icon?.classList.replace('fa-moon', 'fa-sun');
        } else {
          document.body.classList.remove('dark-mode');
          icon?.classList.replace('fa-sun', 'fa-moon');
        }
      }
    
      const stored = localStorage.getItem('theme');
      const current = stored || (prefersDark ? 'dark' : 'light');
      applyTheme(current);
    
      toggleBtn?.addEventListener('click', () => {
        const isDark = document.body.classList.contains('dark-mode');
        const newTheme = isDark ? 'light' : 'dark';
        localStorage.setItem('theme', newTheme);
        applyTheme(newTheme);
      });
    </script>

  </body>
</html>
